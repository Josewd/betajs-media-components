<!DOCTYPE html>
<html lang="en">
<head>
    <!--    <script type="text/javascript" src="//imasdk.googleapis.com/js/sdkloader/ima3.js"></script>-->

    <script src="../vendors/jquery.min.js"></script>
    <script src="../node_modules/betajs-shims/dist/betajs-shims.js"></script>
    <script src="../node_modules/betajs-scoped/dist/scoped.js"></script>
    <script src="../node_modules/betajs/dist/beta-noscoped.js"></script>
    <script src="../node_modules/betajs-browser/dist/betajs-browser-noscoped.js"></script>
    <script src="../node_modules/betajs-media/dist/betajs-media-noscoped.js"></script>
    <script src="../node_modules/betajs-dynamics/dist/betajs-dynamics-noscoped.js"></script>
    <script src="../dist/betajs-media-components-noscoped.js"></script>
    <link  href="../dist/betajs-media-components.css" rel="stylesheet" />
    <script src="../dist/themes/modern/script.js"></script>
    <link  href="../dist/themes/modern/style.css" rel="stylesheet" />
</head>
<body style="background: #EEE">
<script>

    var errroAd = '//localhost:5050/static/demos/vast-samples/---error-url---';
    var v3_clickThroughtLocalAd = '//localhost:5050/static/demos/vast-samples/VAST_3_0/Video_Clicks_and_click_tracking-Inline-test.xml';
    var v3_skipable = '//localhost:5050/static/demos/vast-samples/ads-linear-skipable.xml';
    var v3_doubleclick = 'https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dskippablelinear&correlator=';
    // var v3_doubleclickVMAP = 'https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dskippablelinear&correlator=&ad_rule=1';
    var v3_doubleclickbased = '//localhost:5050/static/demos/vast-samples/based-doubleclick.xml';
    var v4_2_wrapper = '//localhost:5050/static/demos/vast-samples/VAST_4_2/Wrapper_Tag-test.xml';
    // var v4_2_non_linear = '//localhost:5050/static/demos/vast-samples/VAST_4_2/Inline_Non-Linear_Tag-test.xml';
    var v2_linear = '//localhost:5050/static/demos/vast-samples/VAST_2/sample_2_0.xml';
    var v3_non_linear = '//localhost:5050/static/demos/vast-samples/VAST_3_0/Inline_Non-Linear_Tag-test.xml';
    var v4_2_skipable = '//localhost:5050/static/demos/vast-samples/VAST_4_2/Inline_Skipable.xml';
    var v4_2_non_skipable = '//localhost:5050/static/demos/vast-samples/VAST_4_2/Inline_NON_Skipable.xml';
    const v_4_2_inline_with_companion = "//localhost:5050/static/demos/vast-samples/VAST_4_2/Inline_Companion_Tag-test.xml";

    // VMAP - Pre-roll Single Ad, Mid-roll Optimized Pod with 3 Ads, Post-roll Single Ad
    // var vmap = 'https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/vmap_ad_samples&sz=640x480&cust_params=sample_ar%3Dpremidpostoptimizedpod&ciu_szs=300x250&gdfp_req=1&ad_rule=1&output=vmap&unviewed_position_start=1&env=vp&impl=s&cmsid=496&vid=short_onecue&correlator='
    // var vmap = '//localhost:5050/static/demos/vast-samples/VMAP/dc_vmap_pre_1_mid_3_post_1.xml'
    var kargo = '//localhost:5050/static/demos/kargo/vast_3.xml';
    var kargo_p1 = '//localhost:5050/static/demos/kargo/vast_3_part_1.xml';
    var kargo_p2 = '//localhost:5050/static/demos/kargo/vast_3_part_2.xml';

    var inlineVASTXMLWrapper = `<VAST version="4.0" xmlns="http://www.iab.com/VAST">
  <Ad id="20011" sequence="1" conditionalAd="false">
    <Wrapper followAdditionalWrappers="0" allowMultipleAds="1" fallbackOnNoAd="0">
      <AdSystem version="4.0">iabtechlab</AdSystem>
      <Error>http://example.com/error</Error>
      <Impression id="Impression-ID">http://example.com/track/impression</Impression>
      <Creatives>
        <Creative id="5480" sequence="1" adId="2447226">
          <CompanionAds>
            <Companion id="1232" width="100" height="150" assetWidth="250" assetHeight="200" expandedWidth="350" expandedHeight="250" apiFramework="VPAID" adSlotID="3214" pxratio="1400">
              <StaticResource creativeType="image/png">
                <![CDATA[https://www.iab.com/wp-content/uploads/2014/09/iab-tech-lab-6-644x290.png]]>
              </StaticResource>
              <CompanionClickThrough>
                <![CDATA[https://iabtechlab.com]]>
              </CompanionClickThrough>
            </Companion>
          </CompanionAds>
        </Creative>
      </Creatives>
      <VASTAdTagURI>
        <![CDATA[https://raw.githubusercontent.com/InteractiveAdvertisingBureau/VAST_Samples/master/VAST%204.0%20Samples/Inline_Companion_Tag-test.xml]]>
      </VASTAdTagURI>
    </Wrapper>
  </Ad>
</VAST>`;
    var inlineVASTXML = `
    <VAST version="2.0">
    <Ad id="601364">
        <InLine>
            <AdSystem>Adsystem Example</AdSystem>
            <AdTitle>VAST 2.0</AdTitle>
            <Description>VAST 2.0</Description>
            <Error>http://myErrorURL/error</Error>
            <Impression>//localhost:5050/ad/impression</Impression>
            <Creatives>
                <Creative AdID="12345">
                    <Linear>
                        <Duration>00:00:30</Duration>
                        <TrackingEvents>
                            <Tracking event="creativeView">//localhost:5050/ad/creativeView</Tracking>
                            <Tracking event="start">//localhost:5050/ad/start</Tracking>
                            <Tracking event="midpoint">//localhost:5050/ad/midpoint</Tracking>
                            <Tracking event="firstQuartile">//localhost:5050/ad/firstQuartile</Tracking>
                            <Tracking event="thirdQuartile">//localhost:5050/ad/thirdQuartile</Tracking>
                            <Tracking event="complete">//localhost:5050/ad/complete</Tracking>
                        </TrackingEvents>
                        <VideoClicks>
                            <ClickThrough>https://ziggeo.com</ClickThrough>
                            <ClickTracking>//localhost:5050/ad/click</ClickTracking>
                        </VideoClicks>
                        <MediaFiles>
                            <MediaFile id="5241" delivery="progressive" type="video/mp4"
                                       bitrate="2000" width="1280" height="720" minBitrate="1500"
                                       maintainAspectRatio="1"
                            >
                                <![CDATA[//localhost:5050/static/demos/assets/vast/iab-vast-intro.mp4]]>
                            </MediaFile>
                        </MediaFiles>
                    </Linear>
                </Creative>
                <Creative AdID="601364-Companion">
                    <CompanionAds>
                        <Companion width="300" height="250">
                            <StaticResource creativeType="image/jpeg">
                                <![CDATA[//localhost:5050/static/demos/assets/vast/ad-rectangle-300x250.jpeg]]>
                            </StaticResource>
                            <TrackingEvents>
                                <Tracking event="creativeView">//localhost:5050/ad/tracking</Tracking>
                            </TrackingEvents>
                            <CompanionClickThrough>https://ziggeo.com</CompanionClickThrough>
                        </Companion>
                        <Companion width="728" height="90">
                            <StaticResource creativeType="image/jpeg">
                                <![CDATA[//localhost:5050/static/demos/assets/vast/ad-banner-728x90.jpeg]]>
                            </StaticResource>
                            <CompanionClickThrough>https://ziggeo.com</CompanionClickThrough>
                        </Companion>
                    </CompanionAds>
                </Creative>
            </Creatives>
        </InLine>
    </Ad>
</VAST>`;

    // var nonLinear = 'https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/nonlinear_ad_samples&sz=480x70&cust_params=sample_ct%3Dnonlinear&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=';
    var nonLinear = '//localhost:5050/static/demos/vast-samples/dc-single_non-linear.xml';

    var adsense = new BetaJS.MediaComponents.Ads.IMAProvider({
        // adTagUrl: 'https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dskippablelinear&correlator='
        // adTagUrl: 'https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&correlator='
        // adTagUrl: 'https://securepubads.g.doubleclick.net/gampad/ads?env=vp&gdfp_req=1&output=vast&iu=/1234/video-demo&sz=400x300&unviewed_position_start=1&ciu_szs=728x90,300x250'
        // adTagUrl: 'https://localhost:5050/static/demos/vast-samples/VAST_3_0/Inline_Linear_Tag-test.xml'
        // adTagUrl: errroAd
        // adTagUrl:    v2_linear
        // adTagUrl: v3_clickThroughtLocalAd
        // adTagUrl: v3_doubleclickbased
        // adTagUrl: v3_skipable
        // adTagUrl: v4_2_wrapper
        // adTagUrl: v3_doubleclickVMAP
        // adTagUrl: v_4_2_inline_with_companion
        // adTagUrl: kargo
        // adTagUrl: v4_2_non_skipable
        // adTagUrl: vmap
        // adTagUrl: nonLinear
        inlineVASTXML: '<?xml version="1.0"?><VAST version="2.0"> <Ad id="89069"> <InLine> <AdSystem> Kargo </AdSystem> <AdTitle> video preroll </AdTitle> <Impression> <![CDATA[https://tk.kargo.com/t/impression.13lvmrkv9wi2j0?rand=8245987363899413&kid=&uuid=1e66a848-b701-4180-8c56-a1e3fb96fa5d&aslot={AD_SLOT}&krg_imp_id={IMP_ID}&url=]]> </Impression> <Creatives> <Creative> <Linear> <Duration> 00:00:15.000 </Duration> <TrackingEvents> <Tracking event="start"> <![CDATA[https://tk.kargo.com/t/video-start.13lvmrkv9wi2j2?rand=8245987363899413&kid=&uuid=1e66a848-b701-4180-8c56-a1e3fb96fa5d&aslot={AD_SLOT}&krg_imp_id={IMP_ID}]]> </Tracking> <Tracking event="firstQuartile"> <![CDATA[https://tk.kargo.com/t/video-q1.13lvmrkv9wi2j3?rand=8245987363899413&kid=&uuid=1e66a848-b701-4180-8c56-a1e3fb96fa5d&aslot={AD_SLOT}&krg_imp_id={IMP_ID}]]> </Tracking> <Tracking event="midpoint"> <![CDATA[https://tk.kargo.com/t/video-q2.13lvmrkv9wi2j4?rand=8245987363899413&kid=&uuid=1e66a848-b701-4180-8c56-a1e3fb96fa5d&aslot={AD_SLOT}&krg_imp_id={IMP_ID}]]> </Tracking> <Tracking event="thirdQuartile"> <![CDATA[https://tk.kargo.com/t/video-q3.13lvmrkv9wi2j5?rand=8245987363899413&kid=&uuid=1e66a848-b701-4180-8c56-a1e3fb96fa5d&aslot={AD_SLOT}&krg_imp_id={IMP_ID}]]> </Tracking> <Tracking event="complete"> <![CDATA[https://tk.kargo.com/t/video-complete.13lvmrkv9wi2j6?rand=8245987363899413&kid=&uuid=1e66a848-b701-4180-8c56-a1e3fb96fa5d&aslot={AD_SLOT}&krg_imp_id={IMP_ID}]]> </Tracking> <Tracking event="mute"> <![CDATA[https://tk.kargo.com/t/mute.13lvmrkv9wi2j7?rand=8245987363899413&kid=&uuid=1e66a848-b701-4180-8c56-a1e3fb96fa5d&aslot={AD_SLOT}&krg_imp_id={IMP_ID}]]> </Tracking> <Tracking event="unmute"> <![CDATA[https://tk.kargo.com/t/unmute.13lvmrkv9wi2j8?rand=8245987363899413&kid=&uuid=1e66a848-b701-4180-8c56-a1e3fb96fa5d&aslot={AD_SLOT}&krg_imp_id={IMP_ID}]]> </Tracking> </TrackingEvents> <VideoClicks> <ClickThrough> <![CDATA[https://www.t-mobile.com/]]> </ClickThrough> <ClickTracking> <![CDATA[https://tk.kargo.com/t/click.13lvmrkv9wi2j1?rand=8245987363899413&kid=&uuid=1e66a848-b701-4180-8c56-a1e3fb96fa5d&aslot={AD_SLOT}&krg_imp_id={IMP_ID}&url=]]> </ClickTracking> </VideoClicks> <MediaFiles> <MediaFile height="360" width="640" bitrate="480" type="video/mp4" delivery="progressive"> <![CDATA[https://storage.cloud.kargo.com/ad/campaign/rm/adCouncil/video/202105171303/Ad_Council.mp4]]> </MediaFile> </MediaFiles> </Linear> </Creative> </Creatives> </InLine> </Ad></VAST>'
        // , nonLinearAdTagUrl: kargo_p2
        // , nonLinearAdTagUrl: v3_non_linear

        // preAdTagUrl: 'https://localhost:5050/static/demos/vast-samples/VAST_3_0/Video_Clicks_and_click_tracking-Inline-test.xml',
        // postAdTagUrl: 'https://localhost:5050/static/demos/vast-samples/VAST_3_0/Video_Clicks_and_click_tracking-Inline-test.xml',
        // midAdTagUrl: 'https://localhost:5050/static/demos/vast-samples/VAST_3_0/Video_Clicks_and_click_tracking-Inline-test.xml',
        // adMidTagUrls: [
        //     'https://localhost:5050/static/demos/vast-samples/VAST_3_0/Video_Clicks_and_click_tracking-Inline-test.xml',
        //     'https://localhost:5050/static/demos/vast-samples/VAST_3_0/Video_Clicks_and_click_tracking-Inline-test.xml'
        // ]
        //, vpaidMode: true, DISABLED, ENABLED, INSECURE
        //, preload: true
        // , maxAllowedRedirects: 10,
        // https://developers.google.com/interactive-media-ads/docs/sdks/html5/client-side/localization
        , locale: 'fr'
        , customSkipView: true
        // , skipAfter: 3
        , nonLinearDuration: 5 // default will be 10 seconds
    });
    adsense.register("ima");
</script>

<!--    ba-skipinitial-->
<!--    ba-autoplay-->
<!--    custom-non-linear-->
<div style="width: 70%; float: left;">
    <ba-videoplayer
        ba-poster="sample-cover.png"
        ba-source="sample-video.mp4"
        ba-autoplay
        ba-theme="modern"
        ba-adprovider="ima"
        ba-linear="pre,mid[44, 50%], post"
        ba-companion-ad="compad-selector[300,200]"
    ></ba-videoplayer>
</div>

<div style="width: 30%; float: right;">
    <div id="compad-fluid" style="width: 100%"></div>
    <div id="compad-selector"></div>
</div>

<!--    ba-companion-ad="compad-selector[300,200]"-->
<!--    ba-companion-ad="compad-fluid[fluid]"-->
<!--    ba-non-linear="25, 10[320,60]"-->
<!--    ba-non-linear="52[,250], 40%[300], 13[300,250], 2[480,70]"-->
<!-- 40% == 24sec   -->
<!-- 45% == 27sec   -->
<!--    ba-non-linear="40[,90], 50%, 20[720,90], 45[250]"-->
<!--    ba-non-linear="40, 50%[720,90], 20[,90], 45[250]", based on player dimension it could be 720x90 or 300x50 -->
<!-- If will not set ba-non-linear dimensions it will be based on video player dimenstions
, also if will be set only one side dimension it will be not look for exact match advertisement, but only partial
-->
<!--  mid,post  -->
<!--  ba-linear="pre,mid[14, 45%,39], post" -->
<!--  ba-non-linear="40, 50%[720,90], 20[,90], 45[250]"-->

<script>
    BetaJS.Dynamics.Dynamic.activate();
</script>
</body>
</html>
